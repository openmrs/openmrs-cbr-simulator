<!--

    This Source Code Form is subject to the terms of the Mozilla Public License,
    v. 2.0. If a copy of the MPL was not distributed with this file, You can
    obtain one at http://mozilla.org/MPL/2.0/. OpenMRS is also distributed under
    the terms of the Healthcare Disclaimer located at http://openmrs.org/license.

    Copyright (C) OpenMRS Inc. OpenMRS is a registered trademark and the OpenMRS
    graphic logo is a trademark of OpenMRS Inc.

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>CBR Simulator</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="styles/simulator.css">
    </head>
    <body>
        <h1>CBR Simulator</h1>

        <div id="casereport-simulator-boot" ng-app="casereport.simulator.boot" ng-controller="BootController">
            Loading simulation data<span id="blinker">.....</span>
        </div>

        <div id="casereport-simulator" ng-controller="SimulatorController">

            <form class="simple-form-ui" name="simulatorForm" novalidate ng-submit="run()">
                <div ng-show="showPasswordsForm()">
                    <h4>OpenMRS Instance(s) Password Form</h4>
                    <div ng-repeat="server in servers">
                        <fieldset>
                            <legend>{{ server.name }}</legend>
                            <table cellpadding="5" cellspacing="5" border="0">
                                <tr>
                                    <td class="label">Base URL</td>
                                    <td>{{ server.baseUrl }}</td>
                                </tr>
                                <tr>
                                    <td class="label">Username</td>
                                    <td>{{ server.username }}</td>
                                </tr>
                                <tr>
                                    <td class="label">Password</td>
                                    <td><input type="password" ng-model="serverIdPasswordMap[server.id]"></td>
                                </tr>
                            </table>
                        </fieldset>
                        <br>
                    </div>
                    <p>
                        <button type="button" ng-click="setCredentials()">Done</button>
                        <button type="button" ng-show="changingPasswords" ng-click="changingPasswords = false">
                            Cancel
                        </button>
                    </p>
                    <br>
                </div>
                <div ng-show="!showPasswordsForm()">
                    <p>
                        <button type="submit" ng-disabled="!canRun()">Run</button>
                        <button type="button" ng-show="!changingPasswords" ng-click="changingPasswords = true">
                            Change Password(s)
                        </button>
                    </p>

                    <div id="console" ng-show="showConsole" />

                    <br>
                </div>
            </form>

        </div>

        <script type="text/javascript" src="scripts/lib/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="scripts/lib/angular/angular.min.js"></script>
        <script type="text/javascript" src="scripts/lib/angular/angular-resource.min.js"></script>
        <script type="text/javascript" src="scripts/lib/moment/moment.min.js"></script>
        <script type="text/javascript" src="scripts/lib/underscore/underscore-min.js"></script>
        <script type="text/javascript" src="config/config.js"></script>
        <script type="text/javascript" src="scripts/util.js"></script>
        <script type="text/javascript" src="scripts/console.js"></script>
        <script type="text/javascript" src="scripts/serverDate.js"></script>
        <script type="text/javascript" src="scripts/resourceService.js"></script>
        <script type="text/javascript" src="scripts/obsService.js"></script>
        <script type="text/javascript" src="scripts/personService.js"></script>
        <script type="text/javascript" src="scripts/patientService.js"></script>
        <script type="text/javascript" src="scripts/systemSettingService.js"></script>
        <script type="text/javascript" src="scripts/simulator.js"></script>
        <script type="text/javascript" src="data/simulator-dataset.js"></script>
    </body>
</html>
